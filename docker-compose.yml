version: "3.1"
services:
    nginx-proxy:
        container_name: nginx-proxy
        build:
            context: ./nginx-proxy
        ports:
          - "80:80"
          - "443:443"
        volumes:
          - ./certs:/etc/nginx/certs
          - /var/run/docker.sock:/tmp/docker.sock:ro
        restart: unless-stopped
volumes:
  x-service-shared:
networks:
  default:
    external:
      name: nginx-proxy